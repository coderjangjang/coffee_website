<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Café Aurora</title>
  <link rel="icon" href="https://media.discordapp.net/attachments/1375607287518986412/1385940145504780298/caf-aurora-high-resolution-logo.png?ex=6857e4d8&is=68569358&hm=b531147078bd65565345394b3d07be5e3a74a17a273a044500d8607eba8fe7fd&=&format=webp&quality=lossless&width=1760&height=1320" type="image/png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Inter&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #fefaf6;
    }
    h1, h2, h3 {
      font-family: 'Playfair Display', serif;
    }
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      transition: all 1s ease-out;
    }
    .fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body>

  <!-- 네비게이션 바 -->
  <header class="fixed w-full z-50 bg-white shadow-sm">
    <div class="max-w-7xl mx-auto flex justify-between items-center px-6 py-4">
      <div class="flex items-center space-x-3">
        <img src="https://img.icons8.com/ios-filled/50/coffee.png" alt="로고" class="h-8 w-8" />
        <span class="text-2xl font-bold text-[#5b3a29]">Café Aurora</span>
      </div>
      <nav class="hidden md:flex space-x-6 text-gray-700 text-lg">
        <a href="#menu" class="hover:text-amber-600 transition">메뉴</a>
        <a href="#about" class="hover:text-amber-600 transition">소개</a>
        <a href="#visit" class="hover:text-amber-600 transition">방문</a>
        <a href="#order" class="hover:text-amber-600 transition">주문</a>
      </nav>
    </div>
  </header>

  <!-- 히어로 섹션 -->
  <section class="pt-24 bg-[url('https://images.unsplash.com/photo-1509042239860-f550ce710b93')] bg-cover bg-center h-[90vh] text-white flex items-center justify-center">
    <div class="bg-black bg-opacity-50 p-10 rounded-xl text-center">
      <h1 class="text-5xl md:text-6xl font-bold mb-4">하루를 밝혀줄 커피</h1>
      <p class="text-xl md:text-2xl mb-6">지금 가장 맛있는 순간, Café Aurora</p>
      <a href="#menu" class="bg-amber-500 hover:bg-amber-600 text-white px-6 py-3 rounded-full transition">메뉴 보기</a>
    </div>
  </section>

  <!-- 메뉴 섹션 -->
  <section id="menu" class="py-20 px-6 md:px-20 bg-white">
    <h2 class="text-4xl text-center font-bold mb-12 fade-in">추천 메뉴</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
      <div class="relative bg-[#fffaf0] rounded-xl shadow-md p-6 text-center transform transition hover:scale-105 hover:shadow-lg fade-in">
        <span class="absolute top-4 left-4 bg-red-500 text-white text-xs px-3 py-1 rounded-full">오늘의 추천</span>
        <img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?fit=crop&w=400&q=80" alt="라떼" class="rounded-lg mx-auto mb-4 w-full h-48 object-cover" />
        <h3 class="text-2xl font-semibold">오로라 라떼</h3>
        <p class="text-gray-600 mt-2">부드럽고 진한 풍미, 크리미한 우유 거품</p>
      </div>
      <div class="bg-[#fffaf0] rounded-xl shadow-md p-6 text-center transform transition hover:scale-105 hover:shadow-lg fade-in">
        <img src="https://cafe007.lk/wp-content/uploads/2024/09/americano.jpg" alt="아메리카노" class="rounded-lg mx-auto mb-4 w-full h-48 object-cover" />
        <h3 class="text-2xl font-semibold">시그니처 아메리카노</h3>
        <p class="text-gray-600 mt-2">깊고 깨끗한 원두 본연의 맛</p>
      </div>
      <div class="bg-[#fffaf0] rounded-xl shadow-md p-6 text-center transform transition hover:scale-105 hover:shadow-lg fade-in">
        <img src="https://imgproxy.isi.com/POSaPSwnw19nUJquO2NuHh-uGfqm29Q4FCilagicFks/aHR0cHM6Ly9zdy5pc2kuY29tL21lZGlhLzhkLzljLzVkLzE2ODEzNzM4NzMvTW9uaW4gR2luZ2VyLUxlbW9uIENvbGRicmV3XzAxLmpwZw" alt="콜드브루" class="rounded-lg mx-auto mb-4 w-full h-48 object-cover" />
        <h3 class="text-2xl font-semibold">콜드브루 블렌드</h3>
        <p class="text-gray-600 mt-2">서늘한 감성과 함께하는 진한 맛</p>
      </div>
    </div>
  </section>

  <!-- 소개 -->
  <section id="about" class="py-20 px-6 md:px-20 bg-[#fef6ee] text-center fade-in">
    <h2 class="text-4xl font-bold mb-8">우리는 커피를 사랑합니다</h2>
    <p class="text-lg md:text-xl max-w-3xl mx-auto text-gray-700">
      Café Aurora는 매일 새벽, 신선한 원두를 엄선하여 로스팅합니다. 우리의 바리스타들은 한 잔 한 잔 정성을 담아 커피를 내립니다. 단순한 음료가 아닌, 하루를 시작하는 작은 기적을 담아드리고 싶어요.
    </p>
  </section>

  <!-- 매장 방문 -->
  <section id="visit" class="py-24 bg-[#3b2f2f] text-white text-center px-4 md:px-0 fade-in">
    <h2 class="text-4xl font-bold mb-4">Café Aurora에 직접 오세요!</h2>
    <p class="text-lg mb-8">서울특별시 성동구 성수동 99-1 | 매일 오전 9시 - 오후 10시</p>
    <a href="#order" class="bg-amber-500 hover:bg-amber-600 text-white px-6 py-3 rounded-full transition text-lg">온라인 주문하기</a>
  </section>

  <!-- 지도 섹션 -->
  <section class="bg-white py-16 px-4 md:px-20 text-center fade-in">
    <h2 class="text-3xl font-bold mb-6">오시는 길</h2>
    <div class="w-full max-w-4xl mx-auto shadow-lg rounded-lg overflow-hidden">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3165.177053292967!2d127.0485320153103!3d37.54425527980107!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x357ca5144b0f2ed7%3A0xa246f3d1c28f4f1f!2z7ISc7Jq47Yq567OE7IucIOq1rOugiOyepeq1rCDsi6DslYTrnbzroZwgOTktMQ!5e0!3m2!1sko!2skr!4v1719000000000!5m2!1sko!2skr"
        width="100%" height="400" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
  </section>

  <!-- 주문 섹션 (합친 주문 코드) -->
  <section id="order" class="py-20 bg-[#fef6ee] text-center fade-in max-w-3xl mx-auto px-6">
    <h2 class="text-4xl font-bold mb-6 text-[#5b3a29]">온라인 주문하기</h2>
    <p class="text-lg mb-6 text-gray-700">지금 바로 Aurora 커피를 집에서 만나보세요!</p>

    <div class="space-y-6">
      <div class="flex justify-between items-center bg-white shadow rounded-lg p-4">
        <div>
          <h3 class="text-xl font-semibold">오로라 라떼</h3>
          <p class="text-gray-500">₩4,500</p>
        </div>
        <input type="number" min="0" value="0" class="w-20 text-center border rounded p-1 quantity" data-price="4500" />
      </div>

      <div class="flex justify-between items-center bg-white shadow rounded-lg p-4">
        <div>
          <h3 class="text-xl font-semibold">아메리카노</h3>
          <p class="text-gray-500">₩3,800</p>
        </div>
        <input type="number" min="0" value="0" class="w-20 text-center border rounded p-1 quantity" data-price="3800" />
      </div>

      <div class="flex justify-between items-center bg-white shadow rounded-lg p-4">
        <div>
          <h3 class="text-xl font-semibold">콜드브루</h3>
          <p class="text-gray-500">₩5,000</p>
        </div>
        <input type="number" min="0" value="0" class="w-20 text-center border rounded p-1 quantity" data-price="5000" />
      </div>
    </div>

    <!-- 이름 입력란 -->
    <div class="mt-6">
      <label for="customerName" class="block mb-2 font-semibold text-lg text-[#5b3a29]">이름</label>
      <input type="text" id="customerName" placeholder="이름을 입력하세요" class="w-full p-2 border rounded" />
    </div>

    <div class="mt-8 text-right text-xl font-bold">
      총합: <span id="total">₩0</span>
    </div>

    <div class="mt-6 text-center">
      <button id="orderBtn" class="bg-amber-500 hover:bg-amber-600 text-white px-6 py-3 rounded-full text-lg">
        주문하기
      </button>
    </div>
  </section>

  <!-- 푸터 -->
  <footer class="bg-[#2b1f1f] text-white text-center py-8">
    <p>&copy; 2025 Café Aurora. All rights reserved.</p>
    <p class="text-sm mt-2">Instagram: @cafe.aurora | 문의: contact@aurora.kr</p>
  </footer>

  <!-- 스크롤 애니메이션 + 주문 스크립트 -->
  <script>
    // 스크롤 페이드 인 애니메이션
    const fadeEls = document.querySelectorAll('.fade-in');
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('visible');
      });
    }, { threshold: 0.1 });
    fadeEls.forEach(el => observer.observe(el));

    // 주문 기능
    const quantities = document.querySelectorAll(".quantity");
    const totalSpan = document.getElementById("total");
    const orderBtn = document.getElementById("orderBtn");

    function updateTotal() {
      let total = 0;
      quantities.forEach(input => {
        const count = parseInt(input.value) || 0;
        const price = parseInt(input.dataset.price);
        total += count * price;
      });
      totalSpan.textContent = "₩" + total.toLocaleString();
    }

    quantities.forEach(input => {
      input.addEventListener("input", updateTotal);
    });

    orderBtn.addEventListener("click", () => {
      const customerName = document.getElementById("customerName").value.trim();
      if (!customerName) {
        alert("이름을 입력하세요!");
        return;
      }

      let order = [];
      let total = 0;
      quantities.forEach(input => {
        const name = input.parentElement.querySelector("h3").textContent;
        const count = parseInt(input.value);
        const price = parseInt(input.dataset.price);
        if (count > 0) {
          order.push({ name, count, price });
          total += count * price;
        }
      });

      if (order.length === 0) {
        alert("주문할 메뉴를 선택하세요!");
        return;
      }

      fetch("http://192.168.50.125:5000/order", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ customerName, items: order, total: total })
      })
      .then(res => {
        if (!res.ok) throw new Error("서버 오류");
        return res.json();
      })
      .then(data => {
        alert(`✅ 주문 완료! 주문번호: ${data.orderId}`);
        // 초기화
        document.getElementById("customerName").value = "";
        quantities.forEach(input => input.value = 0);
        updateTotal();
      })
      .catch(() => alert("❌ 주문 실패. 다시 시도해 주세요."));
    });

    updateTotal(); // 초기 총합 표시
  </script>

</body>
</html>
